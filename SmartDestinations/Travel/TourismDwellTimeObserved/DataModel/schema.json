{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$schemaVersion": "0.0.1",
  "$id": "https://smart-data-models.github.io/dataModel.Tourism/TourismDwellTimeObserved/schema.json",
  "title": "Tourism Dwell Time Observed",
  "modelTags": "tourism,dwellTime,statistics",
  "description": "Hourly observation of visitor dwell time (permanence duration) at a specific location (municipality), segmented by nationality and dwell time range.",
  "type": "object",
  "allOf": [
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "TourismDwellTimeObserved"
          ],
          "description": "Property. NGSI entity type. It has to be TourismDwellTimeObserved"
        },
        "aggregationType": {
          "type": "string",
          "enum": [
            "hourly_sum",
            "hourly_average",
            "hourly_snapshot",
            "hourly_estimate"
          ],
          "description": "Property. Type of aggregation used for this hourly observation. Model:'https://schema.org/Text'"
        },
        "dateObserved": {
          "type": "string",
          "format": "date-time",
          "description": "Property. Date and time of the observation (ISO8601 UTC). Model:'https://schema.org/DateTime'"
        },
        "hour": {
          "type": "integer",
          "minimum": 0,
          "maximum": 23,
          "description": "Property. Hour of the day (0-23) for this observation. Model:'https://schema.org/Number'"
        },
        "locationCode": {
          "type": "string",
          "description": "Property. Official code of the location/municipality (e.g. DICOFRE). Model:'https://schema.org/Text'"
        },
        "locationName": {
          "type": "string",
          "description": "Property. Name of the location/municipality. Model:'https://schema.org/Text'"
        },
        "nationality": {
          "type": "string",
          "pattern": "^[A-Z]{2}$",
          "description": "Property. Nationality of visitors. ISO 3166-1 alpha-2 country code. Model:'https://schema.org/Text'"
        },
        "nationalityName": {
          "type": "string",
          "description": "Property. Full name of the nationality country (optional). Model:'https://schema.org/Text'"
        },
        "dwellTimeRange": {
          "type": "string",
          "description": "Property. Dwell time range in minutes (e.g. 0-5, 5-15, 30-60, 120+). Model:'https://schema.org/Text'"
        },
        "visitorCount": {
          "type": "integer",
          "minimum": 0,
          "description": "Property. Number of visitors in this dwell time range. Units:'persons'. Model:'https://schema.org/Number'"
        },
        "totalVisitors": {
          "type": "integer",
          "minimum": 0,
          "description": "Property. Total number of visitors across all dwell time ranges for this hour. Units:'persons'. Model:'https://schema.org/Number'"
        },
        "dataProvider": {
          "type": "string",
          "description": "Property. Provider of the data. Model:'https://schema.org/Text'"
        },
        "source": {
          "type": "string",
          "description": "Property. Original source of the data as a URL. Model:'https://schema.org/Text'"
        }
      }
    }
  ],
  "required": [
    "id",
    "type",
    "dateObserved",
    "location",
    "locationCode",
    "nationality",
    "dwellTimeRange",
    "visitorCount",
    "hour"
  ]
}
